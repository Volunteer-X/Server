#import "../../../../../libs/common/src/graphql/error.gql"

scalar ObjectID

type Channel @key(fields: "id") {
  id: ObjectID!
  activityID: ObjectID!
  ping: Ping!
  title: String!
  admin: User!
  participants: [User!]!
}

extend type Ping @key(fields: "id") {
  id: ObjectID! @external
}

extend type User @key(fields: "id") {
  id: ObjectID! @external
}

union ChannelPayload =
  | Channel
  | NotFoundError
  | UnknownError
  | UnauthorizedError
  | InternalServerError

type Query {
  channel(id: ObjectID!): Channel
  channels(admin: ObjectID!): [Channel!]!
}
